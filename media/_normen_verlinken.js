/*!
 * Normen auf ihren Gesetzestext verlinken
 * Copyright 2023-09-06 Thomas Kahn <thomas@basiskarten.de>
 * { nv_version : 29 }
 */
function _(e){return document.getElementById(e)}function verlinkung_nochmal_ermoeglichen(){for(var e=document.getElementsByClassName("normen_verlinkt");e.length>0;)e[0].classList.remove("normen_verlinkt"),e=document.getElementsByClassName("normen_verlinkt")}function normangaben_in_allen_relevanten_elementen_verlinken(e){const r=["TD"];for(var n in r){var a=document.getElementsByTagName(r[n]);for(var l in a)normen_in_element_verlinken(a[l],e)}for(var G=document.getElementsByClassName("zusatzinfo"),s=0,t=G.length;s<t;s++)"feedback"!=G[s].id&&normen_in_element_verlinken(G[s],e);var c=_("Bezeichnung");if(null!=c&&normen_in_element_verlinken(c,e),document.title.indexOf("AnkiWeb")>-1){var i=document.getElementsByClassName("gesetz");for(s=0;s<i.length;s++)i[s].target="_blank"}}function normen_in_element_verlinken(e,r){try{if(e.classList.contains("normen_verlinkt"))return;var n=e.parents;for(var a in n)if(n[a].classList.contains("normen_verlinkt"))return}catch(e){return}e.classList.add("normen_verlinkt");var l=e.innerHTML,G=l,s=l.split(/(<\/?td>)|(<\/?th>)|(<\/?p>)|(<\/?div>)|(<br \/>)|(<br\/>)|(<br>)|(<hr \/>)|(<hr\/>)|(<hr>)/).filter(Boolean);for(var t in s){var c=s[t];for(var i in ersetzungen)c=c.replaceAll(ersetzungen[i].vorher,ersetzungen[i].nachher);for(var i in c=einzelne_gesetzesbuecher_in_zeile_verlinken(c=normen_MIT_gesetzesangabe_in_zeile_verlinken(c=(c=(c=c.replaceAll("(","﴾").replaceAll(")","﴿").replaceAll("[","ʃ").replaceAll("]","ʅ")).replace(bis_mit_leerzeichen," ֏ ").replace(oder_mit_leerzeichen," ֍ ").replace(cloze,"֎")).replace(/&nbsp;/g," "))),r&&(c=normen_OHNE_gesetzesangabe_in_zeile_verlinken(c=normen_OHNE_gesetzesangabe_in_zeile_verlinken(c,para_mehrere,r),para_einzeln,r)),c=(c=(c=c.replaceAll("﴾","(").replaceAll("﴿",")").replaceAll("ʃ","[").replaceAll("ʅ","]")).replace(bis_umgewandelt,"bis").replace(oder_umgewandelt,"oder").replace(cloze_umgewandelt,'<span class="cloze">')).replace(/ /g,"&nbsp;"),ersetzungen)c=c.replaceAll(ersetzungen[i].nachher,ersetzungen[i].vorher);s[t]=c}(l=s.join(""))!=G&&(e.innerHTML=l)}String.prototype.replaceAll=function(e,r){if(e===r)return this;for(var n=this,a=n.indexOf(e);-1!=a;)a=(n=n.replace(e,r)).indexOf(e);return n};var wichtige_gesetze_die_nicht_automatisch_erkannt_werden_liste=["AO","BORA","EuGVÜ","GG","GO-BR","GOBR","GO-BT","GOBT","GRCh","HOAI","JVollzGB III","JVollzGB IV","JVollzGB II","JVollzGB I","KrW-/AbfG","LBGS","EMRK","MRK","SGB XIV","SGB XII","SGB XI","SGB IX","SGB X","SGB VIII","SGB VII","SGB VI","SGB V","SGB IV","SGB III","SGB II","SGB I","SGB 14","SGB 12","SGB 11","SGB 10","SGB 9","SGB 8","SGB 7","SGB 6","SGB 5","SGB 4","SGB 3","SGB 2","SGB 1","VOB/A","VOB/B"],wichtige_gesetze_die_nicht_automatisch_erkannt_werden_regex=/(AO|BORA|EuGVÜ|GG|GO[-]?B[RT]|GRCh|HOAI|JVollzGB\s(III|IV|II|I)|KrW-\/AbfG|LBGS|E?MRK|SGB\s[0-9IVX]{1,4}|VOB\/[AB])\b(?![A-Za-zÀ-ž\u0370-\u03FF\u0400-\u04FF])/,dejure_gesetze=["AAG","AbfVerbrG","AbgG","AbschlagsV","AdVermiG","AdWirkG","AEntG","AEUV","AGBGB","AGBG","AGGVG","AGG","AGVIG","AGVwGO","AktG","AMG","AnfG","AO","ArbGG","ArbSchG","ArbZG","AsylG","AÜG","AufenthG","AufenthV","BauFordSiG","BauGB","BauNVO","BauPG","BauPrüfVO","BauSparkG","BauSVO","BBG","BBodSchG","BDSG","BeamtStG","BEEG","BerHG","BestattG","BetrAVG","BetrKV","BetrVG","BeurkG","BewG","BGB-InfoV","BGB","BGebG","BHO","BImSchG","BKAG","BNatSchG","BNichtrSchG","BNotO","BörsG","BORA","BRAO","BtMG","BUrlG","BVerfGG","BVwVfG","BWahlG","BWG","BZRG","DepotG","DesignG","DRiG","DSGVO","DrittelbG","EBPG","EEG","EEWärmeG","EGBGB","EGGmbHG","EGGVG","EGStPO","EGVVG","EGZPO","EntgFG","EnWG","ErbbauRG","ErbStDV","ErbStG","EStDV","EStG","EuGVÜ","EuGVVO","EuMahnverfVO","EuVTVO","EVPG","EWärmeG","EGV","EUV","FamFG","FernAbsG","FernUSG","FGG","FGO","FleischG","FStrG","FStrPrivFinG","FTG","GastG","GaVO","GBO","GBV","GemO","GenG","GeringFordVO","GeschmMG","GewO","GewSchG","GewStDV","GewStG","GGV","GG","GKG","GmbHG","GNotKG","GO-BR","GOBR","GO-BT","GOBT","GPSG","GRCh","GrStG","GVG","GWB","GwG","HGB","HintG","HintO","HOAI","HPflG","HWiG","IFG","IfSG","InsO","InsVfVO","IRG","JFDG","JGG","JStVollzG","JugendarbG","JugendBildG","JuSchG","JVEG","JVKostG","JVollzGB III","JVollzGB IV","JVollzGB II","JVollzGB I","JVollzGB","KAGB","KAG","KapMuG","KiTaG","KostO","KrW-/AbfG","KrW-AbfG","KrWG","KSchG","KStG","KUG","KunstUrhG","KWG","LAbfG","LadÖG","LBGS","LBO","LBodSchAG","LDSG","LEntG","LFGG","LGebG","LHeimG","LKJHG","LNRSchG","LOWiG","LPartG","LPresseG","LUIG","LVG","LVwVfG","LVwVG","LVwZG","LWoFG","MaBV","MarkenG","MFG","MHG","MiLoG","EMRK","MRK","MuSchG","NachwG","NatSchG","NRG","OASG","OWiG","PartGG","PartG","PatG","PfandBG","PflegeZG","PflVG","PolG","PreisKlG","ProdHaftG","PStG","PUAG","RDG","RDGEG","RDV","ROG","Rom-I-VO","Rom-II-VO","RPflG","RVG","SammlungsG","ScheckG","SchlG","SGB XIV","SGB XII","SGB XI","SGB IX","SGB X","SGB VIII","SGB VII","SGB VI","SGB V","SGB IV","SGB III","SGB II","SGB I","SGG","SigG","SpG","StGB","StiftG","StPO","StrEG","StrG","StVG","StVO","TDG","TierSchG","TKG","TMG","TPG","TVG","TzBfG","UBG","UBGG","UIG","UKlaG","UKlaV","UmweltHG","UmwG","UmwRG","UrhG","UrhWG","USchadG","UStDV","UStG","UVPG","UWG","VAG","VBVG","VerbrKrG","VereinsG","VermG","VersAusglG","VersG","VerstV","VgV","VIG","VkVO","VOB/A","VOB/B","EU-VSchDG","VSchDG","VStättVO","VStGB","VVG-InfoV","VVG","VwGO","VwVfG","VwVG","VwZG","WaffG","WasserG","WechselG","WEG","WHG","WiStG","WKBG","WoGG","WoVermittG","WpHG","WPO","WpPG","ZPO","ZSHG","ZVG","ZVO","ZwVwV","EuInsVO","EFZG","SGB 14","SGB 12","SGB 11","SGB 10","SGB 9","SGB 8","SGB 7","SGB 6","SGB 5","SGB 4","SGB 3","SGB 2","SGB 1","EGHGB","HwO","LFGB","OEG","StBerG","TTDSG","UmwStG"],unbekanntes_gesetz=/[A-Z][A-Za-z\-ÄÜÖäüö]+(G|O|B|V)\b(?![A-Za-zÀ-ž\u0370-\u03FF\u0400-\u04FF])/;function korrigiere_gesetz_url(e){return e.replaceAll("-/","-").replaceAll(" ","_").replaceAll("/","-").replaceAll("ä","ae").replaceAll("Ä","AE").replaceAll("ö","oe").replaceAll("Ö","OE").replaceAll("ü","ue").replaceAll("Ü","UE").replace(/EuInsVO/gi,"InsVfVO").replace(/EFZG/g,"EntgFG").replace(/BWG/gi,"BWahlG").replace(/GOBR/gi,"GO-BR").replace(/GOBT/gi,"GO-BT").replace(/BGBEG/gi,"EGBGB").replace(/SGB_?1$/gi,"SGB_I").replace(/SGB_?2/gi,"SGB_II").replace(/SGB_?3/gi,"SGB_III").replace(/SGB_?4/gi,"SGB_IV").replace(/SGB_?5/gi,"SGB_V").replace(/SGB_?6/gi,"SGB_VI").replace(/SGB_?7/gi,"SGB_VII").replace(/SGB_?8/gi,"SGB_VIII").replace(/SGB_?9/gi,"SGB_IX").replace(/SGB_?10/gi,"SGB_X").replace(/SGB_?11/gi,"SGB_XI").replace(/SGB_?12/gi,"SGB_XII").replace(/SGB_?14/gi,"SGB_XIV")}var alle_normanfaenge=/(§§?\s?֎?|Art(?:\.|ikel)\s?֎?)(\d{1,4}[a-z]?)\b/,alle_normanfaenge_global=/(§§?\s?֎?|Art(?:\.|ikel)\s?֎?)(\d{1,4}[a-z]?)\b/g,nicht_akzeptierte_zeichen_innerhalb_benannter_Norm=/(?!Abs\.|bs\.|Var\.|ar\.|Alt\.|lt\.|und\s|nd\s|u\.|o\.|Hs\.|Ts\.|([a-z])(\1)([^a-zA-Z\u00C0-\u017E\u0370-\u03FF\u0400-\u04FF]|$)|Nr\.|ff\.|f\.|((IX|X|VIII|VII|VI|IV|V|III|II|I)[a-f]?([^a-zA-Z]|$)))[A-Za-z\u00C0-\u017E\u0370-\u03FF\u0400-\u04FF]{2,}|[§<>|^°!"%\/}{﴾ʃʅ=?\\`´:_#'*~@]|(\u00a9|\u00ae|[\u2010-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])|(?!u|o|i|f|S|Nr|Alt|Var|Hs|Ts|Abs|\4)\.|[A-Za-z\u00C0-\u017E\u0370-\u03FF\u0400-\u04FF]+\d/g,para_mehrere=/(§§\s?֎?)(\d{1,4}[a-z]?)/,para_einzeln=/(§\s?֎?)(\d{1,4}[a-z]?)/,artikel_1=/(Art\.\s?֎?)(\d{1,4}[a-z]?)/,artikel_2=/(Artikel\s?֎?)(\d{1,4}[a-z]?)/,norm_ende=/(?!Abs\.|bs\.|Var\.|ar\.|Alt\.|lt\.|und\s|nd\s|u\.|o\.|Hs\.|Ts\.|([a-z])(\1)([^a-zA-Z\u00C0-\u017E\u0370-\u03FF\u0400-\u04FF]|$)|Nr\.|ff\.|f\.|((IX|X|VIII|VII|VI|IV|V|III|II|I)[a-f]?([^a-zA-Z]|$)))[A-Za-z\u00C0-\u017E\u0370-\u03FF\u0400-\u04FF]{2,}|[§<>|^°!"%\/}{﴾﴿ʃʅ=?\\`´:;_#'*~@]|(\u00a9|\u00ae|[\u2010-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])|(?!u|o|i|f|S|Nr|Alt|Var|Hs|Ts|Abs|\4)\.|[A-Za-z\u00C0-\u017E\u0370-\u03FF\u0400-\u04FF]+\d/,zeichen_am_ende_ausschliessen=/(\s[ABCDEFGHJKLMNOPQRSTUWYZÖÄÜ])+\s*$/,trenner=/(,\s?)|(;\s?)|(\s?-\s?)|(\s?&\s?)|(\s?und\s?)|(\s?i\.\s?V\.\s?m\.\s?)|(\s?u\.\s?)|(\s?oder\s?)|(\s?o\.\s?)|(\s?֏\s?)|(\s?֍\s?)|(\s?\+\s?)/,verbindende_trenner=/(\s?-\s?)|(\s?&\s?)|(\s?und\s?)|(\s?i\.\s?V\.\s?m\.\s?)|(\s?u\.\s?)|(\s?oder\s?)|(\s?o\.\s?)|(\s?֏\s?)|(\s?֍\s?)|(\s?\+\s?)/,oder_mit_leerzeichen=/\soder\s/g,oder_umgewandelt=/֍/g,bis_mit_leerzeichen=/\sbis\s/g,bis_umgewandelt=/֏/g,cloze=/<span class=["']cloze["'][^>]*>/g,cloze_umgewandelt=/֎/g,ersetzungen=[{vorher:"Absatz",nachher:"Ձ"},{vorher:"Satz",nachher:"Կ"},{vorher:"Halbsatz",nachher:"Ճ"},{vorher:"Teilsatz",nachher:"Մ"},{vorher:"Nummer",nachher:"Հ"},{vorher:"lit.",nachher:"Ꝙ"},{vorher:"Buchst.",nachher:"Ꝝ"},{vorher:"Buchstabe",nachher:"Ꝛ"}];function absatz_satz_nummer_etc_erkennen(e,r,n){function a(e){return" S"+e.slice(-1)}if(e=e.replace(/^\s+|\s+$/gm,""),""!=r&&n&&0==e.search(/\d+$/)&&(e=r.replace(/\d+$/,e)),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\s?f?f\./g,"")).replace(/Var\.\s?\d/g,"")).replace(/Var\./g,"")).replace(/Alt\.\s?\d/g,"")).replace(/und|u\.|\+/g,"")).replace(/oder|o\./g,"")).replace(/i\.\s?V\.\s?m\./g,"")).replace(/;|&/g,"")).replace(/֍|֏|֎|﴿/g,"")).replace(/Ꝙ|Ꝝ|Ꝛ/g,""),""==r&&0==e.search(/\d+\s[a-z]($|\s)/)&&(e=e.replace(/\s/,"")),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\sIX/g," Abs9")).replace(/\sX/g," Abs10")).replace(/\sVIII/g," Abs8")).replace(/\sVII/g," Abs7")).replace(/\sVI/g," Abs6")).replace(/\sV/g," Abs5")).replace(/\sIV/g," Abs4")).replace(/\sIII/g," Abs3")).replace(/\sII/g," Abs2")).replace(/\sI/g," Abs1")).replace(/(\s|^)(Abs\.|Ձ)\s?\d/g,function(e){return" Abs"+e.slice(-1)})).replace(/(\s|^)(Nr\.|Հ)\s?\d/g,function(e){return" Nr"+e.slice(-1)})).replace(/(\s|^)[a-z]{2}/g,function(e){return" DpB"+e.slice(-2)})).replace(/(\s|^)[a-z]/g,function(e){return" B"+e.slice(-1)})).replace(/(\s|^)(Hs\.|Ճ)\s?\d/g,function(e){return" Hs"+e.slice(-1)})).replace(/(\s|^)(Ts\.|Մ)\s?\d/g,function(e){return" Ts"+e.slice(-1)})).replace(/(\s|^)(S\.|Կ)\s?\d/g,a),""!=r&&n&&0==e.search(/\d+$/)&&(e=r.replace(/\d+$/,e)),-1==(e=e.replace(/\s\d/g,a)).search(/^\d/g)){e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/IX/g," Abs9")).replace(/X/g," Abs10")).replace(/VIII/g," Abs8")).replace(/VII/g," Abs7")).replace(/VI/g," Abs6")).replace(/IV/g," Abs4")).replace(/V/g," Abs5")).replace(/III/g," Abs3")).replace(/II/g," Abs2")).replace(/I/g," Abs1");var l=r.indexOf("#");-1!=e.search(/ Abs\d/)&&-1!=l&&(r=r.slice(0,l)),l=r.search(/(\:|#)DpB/),-1!=e.search(/ DpB[a-z]{2}/)&&-1!=l&&(r=r.slice(0,l)),l=r.search(/(\:|#)B/),-1!=e.search(/ B[a-z]/)&&-1!=l&&(r=r.slice(0,l)),l=r.search(/(\:|#)S/),-1!=e.search(/ S\d/)&&-1!=l&&(r=r.slice(0,l)),l=r.search(/(\:|#)Hs/),-1!=e.search(/ Hs\d/)&&-1!=l&&(r=r.slice(0,l)),l=r.search(/(\:|#)Ts/),-1!=e.search(/ Ts\d/)&&-1!=l&&(r=r.slice(0,l)),l=r.search(/(\:|#)Nr/),-1!=e.search(/ Nr\d/)&&-1!=l&&(r=r.slice(0,l)),e=r+e}return-1==e.indexOf("#")&&(e=e.replace(/\s/,"#")),"#"==(e=(e=(e=(e=e.replace(/,/g,"")).replace(/\s/g,":")).replace(/:{2,}/g,":")).replace(/(\.|:)+$/g,"")).charAt(e.length-1)&&(e=e.slice(0,-1)),e}function nicht_zu_verlinkender_abschnitt(e,r){return(e=e.slice(0,r)).lastIndexOf("<a")>e.lastIndexOf("</a>")||(e.lastIndexOf("<script>")>e.lastIndexOf("<\/script>")||e.lastIndexOf("<style>")>e.lastIndexOf("</style>"))}function link_enthalten(e){return-1!=e.search(/<a |<\/a>/g)}function normen_MIT_gesetzesangabe_in_zeile_verlinken(e){for(var r="",n=0;""!=e&&n<500;){var a=e.match(alle_normanfaenge);if(!a)return r+e;r+=e.slice(0,a.index);var l=-1,G="",s=(e=e.slice(a.index)).match(wichtige_gesetze_die_nicht_automatisch_erkannt_werden_regex);if(null!=s&&(G=s[0],l=s.index),null!=(s=e.match(unbekanntes_gesetz))&&(s.index<l||-1==l)&&(l=s.index,G=s[0]),-1!=l){for(var t=e.slice(0,l+G.length);t.match(alle_normanfaenge_global).length>1;)r+=e.slice(0,a[0].length),a=(e=e.slice(a[0].length)).match(alle_normanfaenge),r+=e.slice(0,a.index),t=(e=e.slice(a.index)).slice(0,e.indexOf(G)+G.length),l=e.indexOf(G);var c=a[1],i=t.slice(c.length,-G.length);if(nicht_zu_verlinkender_abschnitt(r+e,r.length))r+=e.slice(0,t.length),e=e.slice(t.length);else if(i.search(nicht_akzeptierte_zeichen_innerhalb_benannter_Norm)>-1)r+=e.slice(0,t.length),e=e.slice(t.length);else{var _=i.split(trenner).filter(Boolean),B="",u=!1,g="",h=!1;for(var V in _)V>0&&(h=_[V-1].search(verbindende_trenner)>-1),_[V].search(trenner)>-1?g=' data-trenner="'+_[V]+'"':link_enthalten(_[V])||(u=0==c.search(/^§(?!§)/)||h,B=absatz_satz_nummer_etc_erkennen(_[V],B,u),_[V]='<a class="gesetz" href="https://dejure.org/gesetze/'+korrigiere_gesetz_url(G)+"/"+B+'"'+g+">"+_[V]+"</a>");_[_.length-1]=_[_.length-1].slice(0,-4)+G;var o=_.join("")+"</a>";o=ende_einer_verlinkten_norm_korrigieren(o=o.replace('">','">'+c)),r+=(e=e.replace(t,o)).slice(0,o.length),e=e.slice(o.length)}}else r+=e,e="";n++}return r+e}function einzelne_gesetzesbuecher_in_zeile_verlinken(e){for(var r="",n=0;""!=e&&n<500;){var a=-1,l="";for(var G in dejure_gesetze){var s=e.search(new RegExp("(^|[^A-Za-zÀ-žͰ-ϿЀ-ӿ])"+dejure_gesetze[G]+"($|[^A-Za-zÀ-žͰ-ϿЀ-ӿ])",""));-1!=s&&(s<a||-1==a)&&(a=s,l=dejure_gesetze[G])}if(-1==a)r+=e,e="";else if(nicht_zu_verlinkender_abschnitt(r+e,r.length+a+1))r+=e.slice(0,a+l.length),e=e.slice(a+l.length);else{var t='<a class="gesetz" href="https://dejure.org/gesetze/'+korrigiere_gesetz_url(l)+'">'+l+"</a>";r+=(e=e.replace(l,t)).slice(0,a+t.length),e=e.slice(a+t.length)}n++}return r+e}function normen_OHNE_gesetzesangabe_in_zeile_verlinken(e,r,n){for(var a="",l=0;""!=e&&l<500;){var G=e.match(r);if(G){var s=G.index,t=G[1],c=G[2];a+=e.slice(0,s),e=e.slice(s),s=0;var i=e.slice(t.length).search(norm_ende);i=-1==i?e.length:i<c.length-1?t.length+c.length:t.length+i;var _=e.slice(0,i),B=_.slice(t.length);if(_=_.replace(zeichen_am_ende_ausschliessen,""),B=B.replace(zeichen_am_ende_ausschliessen,""),nicht_zu_verlinkender_abschnitt(a+e,a.length+s))a+=e.slice(0,s+_.length),e=e.slice(s+_.length);else{var u=B.split(trenner).filter(Boolean),g="",h=!1,V="",o=!1;for(var I in u)I>0&&(o=u[I-1].search(verbindende_trenner)>-1),u[I].search(trenner)>-1?V=' data-trenner="'+u[I]+'"':link_enthalten(u[I])||(h=r==para_einzeln||o,g=absatz_satz_nummer_etc_erkennen(u[I],g,h),u[I]='<a class="gesetz" href="https://dejure.org/gesetze/'+korrigiere_gesetz_url(n)+"/"+g+'"'+V+">"+u[I]+"</a>");var S=u.join("").replace('">','">'+t);S=ende_einer_verlinkten_norm_korrigieren(S),a+=(e=e.replace(_,S)).slice(0,s+S.length),e=e.slice(s+S.length)}}else a+=e,e="";l++}return a+e}function ende_einer_verlinkten_norm_korrigieren(e){return e.replace(/;\s<\/a>$/,"</a>; ").replace(/;<\/a>$/,"</a>;").replace(/&\s<\/a>$/,"</a>& ").replace(/&<\/a>$/,"</a>&").replace(/\.\s<\/a>$/,"</a>. ").replace(/\.<\/a>$/,"</a>.").replace(/ff<\/a>\./,"ff.</a>").replace(/f<\/a>\./,"f.</a>").replace(/\s<\/a>/g,"</a> ").replace(/"\s+>/g,'">')}